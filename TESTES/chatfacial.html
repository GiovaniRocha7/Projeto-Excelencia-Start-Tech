<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExcelencIA - Simulação de Entrevista com Vídeo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="chatfacial.css">
</head>

<body>
    <div class="interview-container">
        <!-- SIDEBAR - HISTÓRICO -->
        <div class="sidebar">
            <div class="sidebar-header">
               <img class="logo-excelencia" src="/assets/tema escuro/logo-excelencia.PNG" alt="ExcelencIA">
            </div>

            <button class="back-home-btn" id="backHomeBtn" title="Voltar para página inicial">
                <i class="fas fa-arrow-left"></i>
                Voltar
            </button>

            <button class="new-simulation-btn" id="newSimulationBtn">
                <i class="fas fa-video"></i>
                Nova Simulação
            </button>

            <div class="simulation-history" id="simulationHistory">
                <div class="simulation-item active" data-simulation-id="1">
                    <i class="fas fa-check-circle"></i>
                    <span>Desenvolvedor - 23/01</span>
                </div>
                <div class="simulation-item" data-simulation-id="2">
                    <i class="fas fa-check-circle"></i>
                    <span>RH - 22/01</span>
                </div>
                <div class="simulation-item" data-simulation-id="3">
                    <i class="fas fa-check-circle"></i>
                    <span>Liderança - 21/01</span>
                </div>
                <div class="simulation-item" data-simulation-id="4">
                    <i class="fas fa-check-circle"></i>
                    <span>Apresentação - 20/01</span>
                </div>
            </div>
        </div>

        <!-- MAIN INTERVIEW AREA -->
        <div class="interview-main">
            <!-- SETUP MODAL -->
            <div class="setup-modal" id="setupModal">
                <div class="setup-content">
                    <h1>SIMULAÇÃO DE ENTREVISTA</h1>
                    <p class="setup-subtitle">Tipo de entrevista:</p>

                    <div class="setup-form">
                        <!-- Área Profissional -->
                        <div class="form-group">
                            <label for="professionalArea">Área profissional:</label>
                            <select id="professionalArea" class="form-select">
                                <option value="">Selecione uma área</option>
                                <option value="desenvolvimento">Desenvolvedor de Software</option>
                                <option value="marketing">Supervisor de Marketing</option>
                                <option value="vendas">Gerente de Vendas</option>
                                <option value="rh">Analista de RH</option>
                                <option value="design">Designer UX/UI</option>
                                <option value="dados">Analista de Dados</option>
                                <option value="produto">Product Manager</option>
                                <option value="financeiro">Analista Financeiro</option>
                            </select>
                        </div>

                        <!-- Nível de Dificuldade -->
                        <div class="form-group">
                            <label for="difficulty">Nível de dificuldade:</label>
                            <select id="difficulty" class="form-select">
                                <option value="facil">Fácil</option>
                                <option value="medio">Médio</option>
                                <option value="dificil">Difícil</option>
                                <option value="expert">Expert</option>
                            </select>
                        </div>

                        <!-- Tempo Estimado -->
                        <div class="form-group">
                            <label for="duration">Tempo estimado:</label>
                            <select id="duration" class="form-select">
                                <option value="15">15 min</option>
                                <option value="30" selected>30 min</option>
                                <option value="45">45 min</option>
                                <option value="60">60 min</option>
                            </select>
                        </div>

                        <!-- Tipo de Avaliação -->
                        <div class="form-group">
                            <label for="evaluationType">Tipo de Avaliação:</label>
                            <select id="evaluationType" class="form-select">
                                <option value="tecnica">Técnica</option>
                                <option value="comportamental">Comportamental</option>
                                <option value="mista">Mista</option>
                            </select>
                        </div>

                        <!-- Botão Iniciar -->
                        <button type="button" class="btn-start" id="startInterviewBtn">
                            <i class="fas fa-play"></i>
                            Iniciar Simulação
                        </button>
                    </div>
                </div>
            </div>

            <!-- VIDEO AREA -->
            <div class="video-container" id="videoContainer" style="display: none;">
                <!-- Vídeo da câmera -->
                <video id="localVideo" autoplay muted playsinline class="local-video"></video>
                
                <!-- Overlay com informações -->
                <div class="video-overlay">
                    <div class="interview-info">
                        <h2 id="interviewTitle">Simulação de Entrevista</h2>
                        <p id="interviewStatus">Câmera conectada</p>
                    </div>
                    
                    <!-- Timer -->
                    <div class="interview-timer">
                        <span id="timerDisplay">00:00</span>
                    </div>
                </div>

                <!-- Análise de Expressão Facial -->
                <div class="facial-analysis" id="facialAnalysis">
                    <div class="analysis-item">
                        <span class="analysis-label">Confiança</span>
                        <div class="analysis-bar">
                            <div class="analysis-fill" id="confidenceBar" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Clareza</span>
                        <div class="analysis-bar">
                            <div class="analysis-fill" id="clarityBar" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>

                <!-- Controles de Vídeo -->
                <div class="video-controls">
                    <button class="control-btn" id="toggleAudioBtn" title="Mutar/Desmutar">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="control-btn" id="toggleVideoBtn" title="Ligar/Desligar câmera">
                        <i class="fas fa-video"></i>
                    </button>
                    <button class="control-btn danger" id="endCallBtn" title="Encerrar entrevista">
                        <i class="fas fa-phone-slash"></i>
                    </button>
                    <button class="control-btn" id="toggleChatBtn" title="Abrir chat">
                        <i class="fas fa-comment-dots"></i>
                    </button>
                </div>

                <!-- Status da IA -->
                <div class="ai-status" id="aiStatus">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-info">
                        <span class="ai-name">ExcelencIA</span>
                        <span class="ai-state" id="aiState">Ouvindo...</span>
                    </div>
                </div>
            </div>

            <!-- CHAT LATERAL - TRANSCRIÇÃO -->
            <div class="chat-panel" id="chatPanel">
                <div class="chat-header">
                    <h3>Transcrição</h3>
                    <button class="close-chat-btn" id="closeChatBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="transcript-area" id="transcriptArea">
                    <div class="transcript-item ai">
                        <div class="transcript-speaker">ExcelencIA</div>
                        <div class="transcript-text">
                            Olá! Bem-vindo à simulação de entrevista. Meu nome é ExcelencIA. Vou fazer algumas perguntas para avaliar suas habilidades e conhecimentos.
                        </div>
                        <div class="transcript-time">14:30</div>
                    </div>

                    <div class="transcript-item user">
                        <div class="transcript-speaker">Você</div>
                        <div class="transcript-text">
                            Olá! Obrigado pela oportunidade. Tenho 5 anos de experiência como desenvolvedor.
                        </div>
                        <div class="transcript-time">14:31</div>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="chat-input-area">
                    <form class="chat-input-form" id="chatInputForm">
                        <input 
                            type="text" 
                            class="chat-input-field" 
                            id="chatInput"
                            placeholder="Fazer pergunta adicional..."
                            disabled
                        >
                        <button type="submit" class="chat-submit-btn" disabled>
                            <i class="fas fa-send"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="scriptfacial.js"></script>
</body>

</html>
